# 学习笔记

### 关于主线程拿到子线程的返回值

1. 最基本的方法是用个返回值存储子线程执行之后的返回值，然后在主线程里不断轮询该返回值的结果是否为初始值，不为初始值表示子线程执行完成。
但是这种方法得要求子线程设置值有且仅有一次，不然很可能导致主线程获取的值不正确。

2. 使用一个对象去存储子线程的值，同时子线程锁住当前操作的对象，这样在子线程没有 notify 之前主线程是没法拿到对象里面的值，会被阻塞。
但是锁对象毕竟是比较耗费资源的。

3. 使用 CountDownLatch 和 CyclicBarrier 这样的线程间通信的类来处理，这样代码比较简单，逻辑清晰；但是需要明白这些类的作用和适用范围。

4. 使用线程的返回值来处理，比如 Future 相关的类，也就是异步执行，在合适的时候取得返回值。这样的代码最简洁美观，更符合人的思维逻辑。


### 线程&并发图

![](https://github.com/Idiot-Alex/JAVA-000/blob/main/Week_04/src/main/resources/%E5%A4%9A%E7%BA%BF%E7%A8%8B%20&%20%E5%B9%B6%E5%8F%91.png?raw=true)
